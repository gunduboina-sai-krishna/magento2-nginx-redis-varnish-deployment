<?php
return [
    'cache' => [
        'frontend' => [
            'default' => [
                'backend' => 'Cm_Cache_Backend_Redis',
                'backend_options' => [
                    'server' => '{{ redis_host }}',
                    'port' => '{{ redis_port }}',
                    'database' => '{{ redis_cache_db | default(0) }}',
                ],
            ],
            'page_cache' => [
                'backend' => 'Cm_Cache_Backend_Redis',
                'backend_options' => [
                    'server' => '{{ redis_host }}',
                    'port' => '{{ redis_port }}',
                    'database' => '{{ redis_page_cache_db | default(1) }}',
                ],
            ],
        ],
    ],

    'session' => [
        'save' => 'redis',
        'redis' => [
            'host' => '{{ redis_host }}',
            'port' => '{{ redis_port }}',
            'db' => '{{ redis_session_db | default(2) }}',
            'password' => '{{ redis_password | default("") }}',
        ],
    ],

    'search' => [
        'engine' => 'elasticsearch7',
        'elasticsearch7_server_hostname' => '{{ elasticsearch_host }}',
        'elasticsearch7_server_port' => '{{ elasticsearch_port }}',
        'elasticsearch7_index_prefix' => '{{ elasticsearch_index_prefix | default("magento2") }}',
    ],
];